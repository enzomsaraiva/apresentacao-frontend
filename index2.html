<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Planos de Saúde</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root {
            --primary: #0066FF;
            --primary-dark: #0052CC;
            --accent: #00D4C4;
            --gray-100: #F8FAFC;
            --gray-200: #E2E8F0;
            --gray-600: #475467;
            --gray-900: #1E293B;
            --success: #10B981;
            --radius: 12px;
            --shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--gray-900);
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem 1rem; }
        header { text-align: center; color: white; margin-bottom: 3rem; }
        header h1 { font-size: 2.8rem; font-weight: 700; margin-bottom: 0.5rem; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        header p { font-size: 1.2rem; opacity: 0.9; }
        .logo {
            width: 90px; height: 90px; background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 1.5rem; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .card { background: white; border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; margin-bottom: 2rem; }
        .card-header { background: var(--primary); color: white; padding: 1.5rem; text-align: center; }
        .card-header h2 { font-size: 1.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .form-body { padding: 2rem; }
        .form-group { margin-bottom: 1.5rem; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--gray-900); }
        input {
            width: 100%; padding: 0.85rem 1rem; border: 2px solid var(--gray-200);
            border-radius: var(--radius); font-size: 1rem; transition: all 0.3s ease;
        }
        input:focus {
            outline: none; border-color: var(--primary); box-shadow: 0 0 0 4px rgba(0,102,255,0.15);
        }
        .btn {
            background: var(--primary); color: white; border: none; padding: 1rem 2rem;
            font-size: 1.1rem; font-weight: 600; border-radius: var(--radius); cursor: pointer;
            transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            margin: 2rem auto 0; width: 100%;
        }
        .btn:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,102,255,0.3); }
        .result-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 2rem; border-radius: var(--radius);
            box-shadow: var(--shadow); display: none; animation: fadeIn 0.6s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; background: rgba(255,255,255,0.1); border-radius: var(--radius); overflow: hidden; }
        th, td { padding: 1rem; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.2); }
        th { background: rgba(0,0,0,0.2); font-weight: 600; }
        .highlight { background: rgba(255,255,255,0.2); font-weight: 700; }
        .recomendacao {
            margin-top: 2rem; padding: 1.5rem; background: rgba(255,255,255,0.15);
            border-radius: var(--radius); text-align: center; font-size: 1.3rem; font-weight: 600;
            backdrop-filter: blur(10px);
        }
        .total-final { font-size: 2.2rem !important; color: #FFD700; text-align: center; margin: 2rem 0 0.5rem; text-shadow: 0 4px 10px rgba(0,0,0,0.4); }
        @media (max-width: 768px) {
            header h1 { font-size: 2.2rem; }
            .form-body { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-heartbeat fa-3x" style="color:var(--primary);"></i>
            </div>
            <h1>Planos de Saúde</h1>
            <p>Compare os valores das Operadoras A e B em tempo real</p>
        </header>

        <div class="card">
            <div class="card-header">
                <h2><i class="fas fa-calculator"></i> Calculadora de Preços</h2>
            </div>

            <div class="form-body">
                <div class="form-group">
                    <label for="idade">Idade (anos)</label>
                    <input type="number" id="idade" min="1" placeholder="Ex: 35" required>
                </div>
                <div class="form-group">
                    <label for="peso">Peso (kg)</label>
                    <input type="number" id="peso" step="0.1" min="1" placeholder="Ex: 78.5" required>
                </div>
                <div class="form-group">
                    <label for="altura">Altura (metros)</label>
                    <input type="number" id="altura" step="0.01" min="0.5" placeholder="Ex: 1.75" required>
                </div>

                <button type="button" class="btn" onclick="calcular()">
                    <i class="fas fa-search-dollar"></i> Calcular Planos
                </button>
            </div>
        </div>

        <div id="resultado" class="result-card">
            <h2 style="text-align:center; margin-bottom:1.5rem;">Seus Resultados</h2>
            
            <p style="text-align:center; margin-bottom:1rem;">
                <strong>IMC:</strong> <span id="imc">—</span> kg/m² • 
                <strong>Classificação:</strong> <span id="classe">—</span> • 
                <strong>Fator Comorbidade (B):</strong> <span id="fator">—</span>
            </p>

            <table>
                <tr>
                    <th>Operadora</th>
                    <th>Básico</th>
                    <th>Standard</th>
                    <th>Premium</th>
                </tr>
                <tr>
                    <td><strong>Operadora A</strong></td>
                    <td id="a-basico">—</td>
                    <td id="a-standard">—</td>
                    <td id="a-premium">—</td>
                </tr>
                <tr>
                    <td><strong>Operadora B</strong></td>
                    <td id="b-basico">—</td>
                    <td id="b-standard">—</td>
                    <td id="b-premium">—</td>
                </tr>
            </table>

            <div class="recomendacao" id="recomendacao"></div>
            <div class="total-final" id="melhorPreco"></div>
        </div>
    </div>

    <script>
        const moeda = v => `R$ ${Math.max(0, v).toFixed(2).replace('.', ',')}`;

        function calcularIMC(peso, altura) { return peso / (altura * altura); }
        function classificarIMC(imc) {
            if (imc < 18.5) return "Abaixo do Peso";
            if (imc < 25) return "Normal";
            if (imc < 30) return "Sobrepeso";
            if (imc < 35) return "Obesidade";
            if (imc < 40) return "Obesidade Mórbida Grave";
            return "Obesidade Mórbida Muito Grave";
        }
        function fatorComorbidade(classe) {
            const f = {"Abaixo do Peso":10,"Normal":1,"Sobrepeso":6,"Obesidade":10,
                       "Obesidade Mórbida Grave":20,"Obesidade Mórbida Muito Grave":30};
            return f[classe] || 0;
        }
        function operadoraA(idade, imc) {
            const f = imc / 10;
            return {
                basico: 100 + idade * 10 * f,
                standard: (150 + idade * 15) * f,
                premium: (200 + imc * 10 + idade * 20) * f
            };
        }
        function operadoraB(idade, imc, fator) {
            const f = imc / 10;
            return {
                basico: 100 + fator * 10 * f,
                standard: (150 + fator * 15) * f,
                premium: (200 + imc * 10 + fator * 20) * f
            };
        }

        function calcular() {
            const idade = parseInt(document.getElementById("idade").value);
            const peso = parseFloat(document.getElementById("peso").value);
            const altura = parseFloat(document.getElementById("altura").value);

            if (!idade || !peso || !altura || idade < 1 || peso < 1 || altura < 0.5) {
                alert("Preencha todos os campos com valores válidos.");
                return;
            }

            const imc = calcularIMC(peso, altura);
            const classe = classificarIMC(imc);
            const fator = fatorComorbidade(classe);
            const a = operadoraA(idade, imc);
            const b = operadoraB(idade, imc, fator);

            document.getElementById("imc").textContent = imc.toFixed(2);
            document.getElementById("classe").textContent = classe;
            document.getElementById("fator").textContent = fator;

            document.getElementById("a-basico").textContent = moeda(a.basico);
            document.getElementById("a-standard").textContent = moeda(a.standard);
            document.getElementById("a-premium").textContent = moeda(a.premium);
            document.getElementById("b-basico").textContent = moeda(b.basico);
            document.getElementById("b-standard").textContent = moeda(b.standard);
            document.getElementById("b-premium").textContent = moeda(b.premium);

            const planos = [
                {preco: a.basico, nome: "Operadora A - Básico"},
                {preco: a.standard, nome: "Operadora A - Standard"},
                {preco: a.premium, nome: "Operadora A - Premium"},
                {preco: b.basico, nome: "Operadora B - Básico"},
                {preco: b.standard, nome: "Operadora B - Standard"},
                {preco: b.premium, nome: "Operadora B - Premium"}
            ];

            const menor = Math.min(...planos.map(p => p.preco));
            const melhores = planos.filter(p => p.preco === menor);

            let texto = "";
            if (melhores.length === 1) {
                texto = `Melhor opção: <strong>${melhores[0].nome}</strong>`;
            } else {
                texto = `Melhores opções (${melhores.length} planos):<br>` + melhores.map(m => `• ${m.nome}`).join("<br>");
            }

            document.getElementById("recomendacao").innerHTML = texto;
            document.getElementById("melhorPreco").textContent = moeda(menor);

            document.getElementById("resultado").style.display = "block";
            document.getElementById("resultado").scrollIntoView({ behavior: "smooth" });
        }
    </script>
</body>
</html>